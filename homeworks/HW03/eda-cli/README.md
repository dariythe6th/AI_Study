# eda-cli: Инструмент для быстрого EDA и проверки качества данных

`eda-cli` — это мини-приложение командной строки, разработанное для быстрого обзора (EDA) и проверки качества данных в формате CSV.

## Использование (CLI-команды)

Для запуска используйте скрипт `eda-cli`, который доступен после установки проекта (`pip install -e .`):

### 1. `overview`

Предоставляет краткую сводку по датасету: размеры, типы данных, пропуски и количество уникальных значений по колонкам.

```bash
eda-cli overview data/example.csv --sep ","
````

### 2\. `report` (Основная команда)

Генерирует полный аналитический отчет. Отчет включает набор табличных файлов (`.csv`), графики (`.png`), а также основной отчет в формате Markdown (`report.md`) с интегральной оценкой качества данных.

#### Новые и ключевые параметры команды `report`:

| Параметр | Тип | По умолчанию | Описание | Влияние на отчет |
| :--- | :--- | :--- | :--- | :--- |
| `--report-title` | `str` | `"EDA-отчёт"` | **Заголовок H1** в файле `report.md`. | Форматирование |
| `--cardinality-threshold` | `int` | `50` | **Порог уникальных значений**. Если категориальная колонка превышает этот порог, активируется флаг качества `has_high_cardinality`. | Оценка качества |
| `--max-cat-columns` | `int` | `5` | **Максимальное число категориальных** колонок, для которых будут сгенерированы таблицы Top-K (файлы `top_categories/*.csv`). | Глубина анализа |
| `--max-hist-columns` | `int` | `6` | Максимальное число **числовых** колонок для построения гистограмм. | Глубина анализа |
| **`--json-summary`** | `bool` | `False` | **(Дополнительно)** Принудительно сохраняет компактную сводку ключевых метрик (размеры, `quality_score`, флаги, проблемные колонки) в файл **`summary.json`**. | Дополнительный артефакт |

#### Пример вызова `eda-cli report`

Этот пример запускает генерацию отчета с пользовательским заголовком, устанавливает строгий порог кардинальности (10) и включает сохранение сводки в JSON:

```bash
eda-cli report data/example.csv \
    --out-dir analysis_results \
    --report-title "Отчет по датасету User_Metrics Q4" \
    --cardinality-threshold 10 \
    --max-cat-columns 3 \
    --json-summary
```

### Содержимое каталога отчета (`analysis_results/`)

После запуска `report` в указанном каталоге будут созданы следующие файлы:

  * `report.md` - Основной отчет с оценкой качества.
  * `summary.csv` - Подробная таблица с характеристиками всех колонок.
  * `missing.csv` - Таблица пропусков.
  * `correlation.csv` - Матрица корреляции числовых признаков.
  * `missing_matrix.png` - Визуализация пропусков.
  * `correlation_heatmap.png` - Тепловая карта корреляций.
  * `hist_*.png` - Гистограммы для числовых колонок.
  * `top_categories/*.csv` - Таблицы Top-K для категориальных колонок.
  * `summary.json` - Компактная сводка (если использован `--json-summary`).

<!-- end list -->
